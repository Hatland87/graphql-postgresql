generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Course {
  code        String        @unique
  id          Int           @default(autoincrement()) @id
  name        String
  lectureMeta LectureMeta[]
}

model Lecture {
  audiolink       String
  cameralink      String
  combinedlink    String
  duration        Int
  id              Int           @default(autoincrement()) @id
  screenlink      String
  timeofrecording DateTime
  title           String
  lectureMeta     LectureMeta[]
}

model LectureMeta {
  courseid   Int
  lectureid  Int
  semesterid Int
  teacherid  Int
  course     Course   @relation(fields: [courseid], references: [id])
  lecture    Lecture  @relation(fields: [lectureid], references: [id])
  semester   Semester @relation(fields: [semesterid], references: [id])
  teacher    Teacher  @relation(fields: [teacherid], references: [id])

  @@id([courseid, lectureid, semesterid, teacherid])
}

model Semester {
  id          Int           @default(autoincrement()) @id
  name        String        @unique
  lectureMeta LectureMeta[]
}

model Teacher {
  id          Int           @default(autoincrement()) @id
  name        String        @unique
  lectureMeta LectureMeta[]
}

model UncategorizedLecture {
  audiolink       String
  cameralink      String
  combinedlink    String
  course          String
  duration        Int
  id              Int      @default(autoincrement()) @id
  screenlink      String
  teacher         String
  timeofrecording DateTime
  title           String
}